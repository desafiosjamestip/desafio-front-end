{"ast":null,"code":"var _jsxFileName = \"/home/pierre/Documentos/projects/Q2/sprint6/icash/src/components/CardCredit/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { BtnCloseModal, ButtonContainer, Container, ContainerModal, DataContainer, Div, Figure, FormContainer, InputContainer, TitleContainer } from \"./styles\";\nimport Modal from \"react-modal\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport CreditCardIcon from \"../../assets/creditCardIcon.svg\";\nimport { Input } from \"../Input\";\nimport Button from \"../Button\";\nimport { FaRegTrashAlt } from \"react-icons/fa\";\nimport { useCreditCards } from \"../../providers/CreditCards\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CardCredit = ({\n  creditCard\n}) => {\n  _s();\n\n  var _errors$card_holder, _errors$good_thru, _errors$verification_;\n\n  const {\n    creditCards,\n    removeCreditCard,\n    updateCreditCard,\n    setIsUpdated\n  } = useCreditCards();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  const toggleModal = () => {\n    setModalIsOpen(!modalIsOpen);\n  };\n\n  const schema = yup.object().shape({\n    card_holder: yup.string().required(\"Campo obrigatório\"),\n    good_thru: yup.string().required(\"Campo obrigatório\"),\n    verification_code: yup.string().required(\"Campo obrigatório\").matches(/^\\d{3}$/, \"Deve ter 3 dígitos\")\n  });\n  const {\n    register,\n    reset,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const onSubmitData = data => {\n    updateCreditCard(data, creditCards[0].id);\n    reset();\n    setIsUpdated(true);\n    toggleModal();\n  };\n\n  const deleteCard = cardId => {\n    removeCreditCard(cardId);\n    toggleModal();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      onClick: toggleModal,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: creditCard.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: creditCard.number\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Validade: \", creditCard.good_thru]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: creditCard.card_holder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalIsOpen,\n      ariaHideApp: false,\n      onRequestClose: toggleModal,\n      className: \"Modal\",\n      children: [/*#__PURE__*/_jsxDEV(BtnCloseModal, {\n        onClick: toggleModal,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContainerModal, {\n        children: [/*#__PURE__*/_jsxDEV(TitleContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Figure, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: CreditCardIcon,\n              alt: \"update-user-profile-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Editar cart\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n          onSubmit: handleSubmit(onSubmitData),\n          children: [/*#__PURE__*/_jsxDEV(InputContainer, {\n            children: [/*#__PURE__*/_jsxDEV(DataContainer, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: creditCard.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: creditCard.number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => deleteCard(creditCard.id),\n                children: [/*#__PURE__*/_jsxDEV(FaRegTrashAlt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this), \"Excluir cart\\xE3o\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              colorSchema: true,\n              type: \"text\",\n              placeholder: \"nome impresso no cart\\xE3o\",\n              register: register,\n              name: \"card_holder\",\n              error: (_errors$card_holder = errors.card_holder) === null || _errors$card_holder === void 0 ? void 0 : _errors$card_holder.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Div, {\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                colorSchema: true,\n                type: \"text\",\n                placeholder: \"validade\",\n                register: register,\n                name: \"good_thru\",\n                error: (_errors$good_thru = errors.good_thru) === null || _errors$good_thru === void 0 ? void 0 : _errors$good_thru.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                colorSchema: true,\n                type: \"text\",\n                placeholder: \"cvv\",\n                register: register,\n                name: \"verification_code\",\n                error: (_errors$verification_ = errors.verification_code) === null || _errors$verification_ === void 0 ? void 0 : _errors$verification_.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CardCredit, \"hPPL1c/KA31tIC23m54xELW9gQc=\", false, function () {\n  return [useCreditCards, useForm];\n});\n\n_c = CardCredit;\nexport default CardCredit;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardCredit\");","map":{"version":3,"sources":["/home/pierre/Documentos/projects/Q2/sprint6/icash/src/components/CardCredit/index.tsx"],"names":["BtnCloseModal","ButtonContainer","Container","ContainerModal","DataContainer","Div","Figure","FormContainer","InputContainer","TitleContainer","Modal","useState","useForm","yup","yupResolver","Input","Button","FaRegTrashAlt","useCreditCards","CardCredit","creditCard","creditCards","removeCreditCard","updateCreditCard","setIsUpdated","modalIsOpen","setModalIsOpen","toggleModal","schema","object","shape","card_holder","string","required","good_thru","verification_code","matches","register","reset","handleSubmit","formState","errors","resolver","onSubmitData","data","id","deleteCard","cardId","name","number","CreditCardIcon","message"],"mappings":"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","sourcesContent":["import {\n  BtnCloseModal,\n  ButtonContainer,\n  Container,\n  ContainerModal,\n  DataContainer,\n  Div,\n  Figure,\n  FormContainer,\n  InputContainer,\n  TitleContainer,\n} from \"./styles\";\nimport { CreditCardData } from \"../../types/creditCardData\";\nimport Modal from \"react-modal\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport CreditCardIcon from \"../../assets/creditCardIcon.svg\";\nimport { Input } from \"../Input\";\nimport Button from \"../Button\";\nimport { FaRegTrashAlt } from \"react-icons/fa\";\nimport { useCreditCards } from \"../../providers/CreditCards\";\nimport \"./styles.css\";\n\ninterface CardCreditProps {\n  creditCard: CreditCardData;\n}\n\nconst CardCredit = ({ creditCard }: CardCreditProps) => {\n  const { creditCards, removeCreditCard, updateCreditCard, setIsUpdated } =\n    useCreditCards();\n\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  const toggleModal = () => {\n    setModalIsOpen(!modalIsOpen);\n  };\n\n  const schema = yup.object().shape({\n    card_holder: yup.string().required(\"Campo obrigatório\"),\n    good_thru: yup.string().required(\"Campo obrigatório\"),\n    verification_code: yup\n      .string()\n      .required(\"Campo obrigatório\")\n      .matches(/^\\d{3}$/, \"Deve ter 3 dígitos\"),\n  });\n\n  const {\n    register,\n    reset,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  const onSubmitData = (data: CreditCardData) => {\n    updateCreditCard(data, creditCards[0].id);\n    reset();\n    setIsUpdated(true);\n    toggleModal();\n  };\n\n  const deleteCard = (cardId: number | undefined) => {\n    removeCreditCard(cardId);\n    toggleModal();\n  };\n\n  return (\n    <>\n      <Container onClick={toggleModal}>\n        <h2>{creditCard.name}</h2>\n        <p>{creditCard.number}</p>\n        <p>Validade: {creditCard.good_thru}</p>\n        <p>{creditCard.card_holder}</p>\n      </Container>\n      <Modal\n        isOpen={modalIsOpen}\n        ariaHideApp={false}\n        onRequestClose={toggleModal}\n        className=\"Modal\"\n      >\n        <BtnCloseModal onClick={toggleModal}>X</BtnCloseModal>\n        <ContainerModal>\n          <TitleContainer>\n            <Figure>\n              <img src={CreditCardIcon} alt=\"update-user-profile-icon\" />\n            </Figure>\n            <h2>Editar cartão</h2>\n          </TitleContainer>\n          <FormContainer onSubmit={handleSubmit(onSubmitData)}>\n            <InputContainer>\n              <DataContainer>\n                <p>{creditCard.name}</p>\n                <p>{creditCard.number}</p>\n                <span onClick={() => deleteCard(creditCard.id)}>\n                  <FaRegTrashAlt />\n                  Excluir cartão\n                </span>\n              </DataContainer>\n              <Input\n                colorSchema\n                type=\"text\"\n                placeholder=\"nome impresso no cartão\"\n                register={register}\n                name=\"card_holder\"\n                error={errors.card_holder?.message}\n              />\n              <Div>\n                <Input\n                  colorSchema\n                  type=\"text\"\n                  placeholder=\"validade\"\n                  register={register}\n                  name=\"good_thru\"\n                  error={errors.good_thru?.message}\n                />\n                <Input\n                  colorSchema\n                  type=\"text\"\n                  placeholder=\"cvv\"\n                  register={register}\n                  name=\"verification_code\"\n                  error={errors.verification_code?.message}\n                />\n              </Div>\n            </InputContainer>\n            <ButtonContainer>\n              <Button type=\"submit\">Salvar</Button>\n            </ButtonContainer>\n          </FormContainer>\n        </ContainerModal>\n      </Modal>\n    </>\n  );\n};\n\nexport default CardCredit;\n"]},"metadata":{},"sourceType":"module"}