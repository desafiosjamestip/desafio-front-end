{"ast":null,"code":"var _jsxFileName = \"/home/pierre/Documentos/projects/Q2/sprint6/icash/src/components/searchStoresModal/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { ModalWrapper, Stores } from \"./styles\";\nimport Modal from \"react-modal\";\nimport React, { useState } from \"react\";\nimport Button from \"../Button\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stores = [{\n  id: 1,\n  name: \"Candid\",\n  city: \"São Paulo\",\n  category: \"Roupa feminina\",\n  cashback: 15,\n  store_img: \"https://images.unsplash.com/photo-1564419965579-5da68ffdf3af?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\"\n}, {\n  id: 2,\n  name: \"Home\",\n  city: \"São Paulo\",\n  cashback: 25,\n  category: \"Restaurante\",\n  store_img: \"https://images.unsplash.com/photo-1535567679266-c113f99615bd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=656&q=80\"\n}, {\n  id: 3,\n  name: \"Pharmacy\",\n  city: \"São Paulo\",\n  category: \"Farmácia\",\n  cashback: 5,\n  store_img: \"https://images.unsplash.com/photo-1603706580932-6befcf7d8521?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\"\n}, {\n  id: 4,\n  name: \"Magna Carta\",\n  city: \"São Paulo\",\n  category: \"Restaurante\",\n  cashback: 35,\n  store_img: \"https://images.unsplash.com/photo-1506739738848-3da37ba381db?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=564&q=80\"\n}, {\n  id: 5,\n  name: \"Circo's\",\n  city: \"São Paulo\",\n  category: \"Restaurante\",\n  cashback: 10,\n  store_img: \"https://images.unsplash.com/photo-1505066827145-34bcde228211?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=619&q=80\"\n}];\n\nconst SearchStoreModal = ({\n  modalIsOpen,\n  setIsOpen,\n  openModal,\n  setMountCarousel\n}) => {\n  _s();\n\n  const history = useHistory();\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [filteredStores, setFilteredStores] = useState([]);\n\n  const closeModal = () => {\n    setIsOpen(false);\n    setMountCarousel(true);\n    window.location.reload();\n  };\n\n  const handleModal = () => {\n    searchStores();\n    setSearchInput(\"\");\n  };\n\n  const customStyles = {\n    content: {\n      top: \"50%\",\n      left: \"50%\",\n      right: \"auto\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      transform: \"translate(-50%, -50%)\"\n    }\n  };\n\n  const searchStores = () => {\n    if (searchInput === \"\") return;\n    setFilteredStores([...filteredStores, ...stores.filter(store => store.name.toLowerCase().includes(searchInput.toLowerCase()) || store.category.toLowerCase().includes(searchInput.toLowerCase()))]);\n    setSearchInput(\"\");\n  };\n\n  const cleanSearch = () => {\n    setFilteredStores([]);\n    setIsOpen(false);\n    setMountCarousel(true);\n  };\n\n  Modal.setAppElement(\"#root\");\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: modalIsOpen,\n    onRequestClose: closeModal,\n    style: customStyles,\n    shouldCloseOnOverlayClick: false,\n    children: /*#__PURE__*/_jsxDEV(ModalWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modalHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Encontre lojas por nome ou categoria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"closeModal\",\n          onClick: closeModal,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"nome da loja ou categoria\",\n          value: searchInput,\n          type: \"text\",\n          onChange: e => setSearchInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleModal,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: cleanSearch,\n          children: \"Limpar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stores, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [filteredStores.length, \" lojas encontradas oferecem cashback:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), filteredStores && filteredStores.map((store, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchWrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                history.push(`/store/${store.id}`);\n                window.location.reload();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cashback\",\n                children: [\" \", store.cashback, \"% -\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" \", store.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this), \" \", store.category]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchStoreModal, \"b9ENDgqDxNlxAT6bQQgRcpUCMXc=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchStoreModal;\nexport default SearchStoreModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchStoreModal\");","map":{"version":3,"sources":["/home/pierre/Documentos/projects/Q2/sprint6/icash/src/components/searchStoresModal/index.tsx"],"names":["ModalWrapper","Stores","Modal","React","useState","Button","useHistory","stores","id","name","city","category","cashback","store_img","SearchStoreModal","modalIsOpen","setIsOpen","openModal","setMountCarousel","history","searchInput","setSearchInput","filteredStores","setFilteredStores","closeModal","window","location","reload","handleModal","searchStores","customStyles","content","top","left","right","bottom","marginRight","transform","filter","store","toLowerCase","includes","cleanSearch","setAppElement","e","target","value","length","map","index","push"],"mappings":"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","sourcesContent":["import { ModalWrapper, Stores } from \"./styles\";\nimport Modal from \"react-modal\";\nimport React, { Dispatch, SetStateAction, useState } from \"react\";\nimport Button from \"../Button\";\nimport { useHistory } from \"react-router-dom\";\n\ninterface store {\n  id: number;\n  name: string;\n  city: string;\n  category: string;\n  cashback: number;\n  store_img: string;\n}\n\nconst stores: store[] = [\n  {\n    id: 1,\n    name: \"Candid\",\n    city: \"São Paulo\",\n    category: \"Roupa feminina\",\n    cashback: 15,\n    store_img:\n      \"https://images.unsplash.com/photo-1564419965579-5da68ffdf3af?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\",\n  },\n  {\n    id: 2,\n    name: \"Home\",\n    city: \"São Paulo\",\n    cashback: 25,\n    category: \"Restaurante\",\n    store_img:\n      \"https://images.unsplash.com/photo-1535567679266-c113f99615bd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=656&q=80\",\n  },\n  {\n    id: 3,\n    name: \"Pharmacy\",\n    city: \"São Paulo\",\n    category: \"Farmácia\",\n    cashback: 5,\n    store_img:\n      \"https://images.unsplash.com/photo-1603706580932-6befcf7d8521?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\",\n  },\n  {\n    id: 4,\n    name: \"Magna Carta\",\n    city: \"São Paulo\",\n    category: \"Restaurante\",\n    cashback: 35,\n    store_img:\n      \"https://images.unsplash.com/photo-1506739738848-3da37ba381db?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=564&q=80\",\n  },\n  {\n    id: 5,\n    name: \"Circo's\",\n    city: \"São Paulo\",\n    category: \"Restaurante\",\n    cashback: 10,\n    store_img:\n      \"https://images.unsplash.com/photo-1505066827145-34bcde228211?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=619&q=80\",\n  },\n];\n\ninterface ModalProps {\n  modalIsOpen: boolean;\n  setIsOpen: Dispatch<SetStateAction<boolean>>;\n  openModal: () => void;\n  setMountCarousel: Dispatch<SetStateAction<boolean>>;\n}\n\nconst SearchStoreModal = ({\n  modalIsOpen,\n  setIsOpen,\n  openModal,\n  setMountCarousel,\n}: ModalProps) => {\n  const history = useHistory();\n\n  const [searchInput, setSearchInput] = useState<string>(\"\");\n  const [filteredStores, setFilteredStores] = useState<store[]>([] as store[]);\n\n  const closeModal = () => {\n    setIsOpen(false);\n    setMountCarousel(true);\n    window.location.reload();\n  };\n\n  const handleModal = () => {\n    searchStores();\n    setSearchInput(\"\");\n  };\n\n  const customStyles = {\n    content: {\n      top: \"50%\",\n      left: \"50%\",\n      right: \"auto\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      transform: \"translate(-50%, -50%)\",\n    },\n  };\n\n  const searchStores = () => {\n    if (searchInput === \"\") return;\n    setFilteredStores([\n      ...filteredStores,\n      ...stores.filter(\n        (store) =>\n          store.name.toLowerCase().includes(searchInput.toLowerCase()) ||\n          store.category.toLowerCase().includes(searchInput.toLowerCase())\n      ),\n    ]);\n    setSearchInput(\"\");\n  };\n\n  const cleanSearch = () => {\n    setFilteredStores([]);\n    setIsOpen(false);\n    setMountCarousel(true);\n  };\n\n  Modal.setAppElement(\"#root\");\n\n  return (\n    <Modal\n      isOpen={modalIsOpen}\n      onRequestClose={closeModal}\n      style={customStyles}\n      shouldCloseOnOverlayClick={false}\n    >\n      <ModalWrapper>\n        <div className=\"modalHeader\">\n          <h3>Encontre lojas por nome ou categoria</h3>\n          <span className=\"closeModal\" onClick={closeModal}>\n            X\n          </span>\n          <input\n            placeholder=\"nome da loja ou categoria\"\n            value={searchInput}\n            type=\"text\"\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              setSearchInput(e.target.value)\n            }\n          />\n          <Button onClick={handleModal}>Pesquisar</Button>\n          <Button onClick={cleanSearch}>Limpar</Button>\n        </div>\n        <Stores>\n          <h3>{filteredStores.length} lojas encontradas oferecem cashback:</h3>\n          {filteredStores &&\n            filteredStores.map((store, index) => (\n              <div key={index} className=\"searchWrapper\">\n                <ul>\n                  <li\n                    onClick={() => {\n                      history.push(`/store/${store.id}`);\n                      window.location.reload();\n                    }}\n                  >\n                    <span className=\"cashback\"> {store.cashback}% -</span>\n                    <span> {store.name}</span> {store.category}\n                  </li>\n                </ul>\n              </div>\n            ))}\n        </Stores>\n      </ModalWrapper>\n    </Modal>\n  );\n};\n\nexport default SearchStoreModal;\n"]},"metadata":{},"sourceType":"module"}